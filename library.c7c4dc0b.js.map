{"mappings":"sgBAAA,IAAAA,EAAAC,EAAA,S,uCAKA,MAAMC,EAAaC,SAASC,cAAc,gBACpCC,EAAWF,SAASC,cAAc,cAExCE,eAAeC,EAAeC,GAC1B,IAIE,aAHuBR,EAAAS,QAAMC,IAC3B,sCAAsCF,aAAkBG,EAAAC,WAE1CC,I,CAChB,MAAOC,GAGP,OAFAC,EAAAC,OAAOC,QAAQ,sDACRC,QAACJ,MAAM,4CAA6CA,GACpD,I,EAIbX,SAASgB,iBAAiB,oBAAoBb,UAC1C,MAAMc,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,iBAC3CC,EAAUtB,SAASC,cAAc,mBACvCqB,EAAQC,UAAY,GACpBxB,EAAWyB,UAAUC,IAAI,cACzB,IAAK,MAAMC,KAAWT,EAAU,CAC1B,MAAMU,QAAoBvB,EAAesB,GACzC,GAAIC,EAAa,CACb,MAAMC,QAAiB,EAAApB,EAAAqB,oBAAmBF,GAC1CL,EAAQC,WAAaK,C,EAI1BN,GAILvB,EAAWiB,iBAAiB,SAASb,UACnC,MAAM2B,EAAWZ,KAAKC,MAAMC,aAAaC,QAAQ,iBACjDC,EAAQC,UAAY,GACpBrB,EAASsB,UAAUO,OAAO,cAC1BhC,EAAWyB,UAAUC,IAAI,cACzB,IAAK,MAAMO,KAAWF,EAAU,CAC5B,MAAMH,QAAoBvB,EAAe4B,GACzC,GAAIL,EAAa,CACb,MAAMC,QAAiB,EAAApB,EAAAqB,oBAAmBF,GAC1CL,EAAQC,WAAaK,C,MAIjC1B,EAASc,iBAAiB,SAASb,UACjC,MAAM8B,EAAWf,KAAKC,MAAMC,aAAaC,QAAQ,eACjDC,EAAQC,UAAY,GACpBxB,EAAWyB,UAAUO,OAAO,cAC5B7B,EAASsB,UAAUC,IAAI,cACvB,IAAK,MAAMO,KAAWC,EAAU,CAC5B,MAAMN,QAAoBvB,EAAe4B,GACzC,GAAIL,EAAa,CACb,MAAMC,QAAiB,EAAApB,EAAAqB,oBAAmBF,GAC1CL,EAAQC,WAAaK,C,OAzBzBb,QAAQJ,MAAM,8BA4BlB,G","sources":["src/scripts/library.mjs"],"sourcesContent":["import axios from \"axios\";\nimport { Notify } from \"notiflix\";\nimport { apiKey } from \"./make_single_tile.mjs\";\nimport { makeSingleFilmTile } from \"./make_single_tile.mjs\";\n\nconst watchedBtn = document.querySelector(\".watched-btn\");\nconst queueBtn = document.querySelector(\".queue-btn\");\n\nasync function getFilmDetails(filmId) {\n    try {\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${filmId}?api_key=${apiKey}`\n      );\n      return response.data;\n    } catch (error) {\n      Notify.failure('Wystąpił błąd podczas pobierania szczegółów filmu.');\n      console.error('Błąd podczas pobierania szczegółów filmu:', error);\n      return null;\n    }\n  }\n\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n    const watchArr = JSON.parse(localStorage.getItem('watchedFilms'));\n    const gallery = document.querySelector(\".movies-gallery\");\n    gallery.innerHTML = \"\";\n    watchedBtn.classList.add(\"active-btn\");\n    for (const element of watchArr) {\n          const filmDetails = await getFilmDetails(element);\n          if (filmDetails) {\n              const filmTile = await makeSingleFilmTile(filmDetails);\n              gallery.innerHTML += filmTile;\n          }\n      }\n\n    if (!gallery) {\n        console.error(\"Target container not found.\");\n        return;\n    }\n    watchedBtn.addEventListener(\"click\", async () => {\n      const watchArr = JSON.parse(localStorage.getItem('watchedFilms'));\n      gallery.innerHTML = \"\";\n      queueBtn.classList.remove(\"active-btn\");\n      watchedBtn.classList.add(\"active-btn\");\n      for (const element of watchArr) {\n          const filmDetails = await getFilmDetails(element);\n          if (filmDetails) {\n              const filmTile = await makeSingleFilmTile(filmDetails);\n              gallery.innerHTML += filmTile;\n          }\n      }\n  });\n  queueBtn.addEventListener(\"click\", async () => {\n    const queueArr = JSON.parse(localStorage.getItem('queueFilms'));\n    gallery.innerHTML = \"\";\n    watchedBtn.classList.remove(\"active-btn\");\n    queueBtn.classList.add(\"active-btn\");\n    for (const element of queueArr) {\n        const filmDetails = await getFilmDetails(element);\n        if (filmDetails) {\n            const filmTile = await makeSingleFilmTile(filmDetails);\n            gallery.innerHTML += filmTile;\n        }\n    }\n  });\n});\n\n"],"names":["$2shzp","parcelRequire","$b802e705b04335a7$var$watchedBtn","document","querySelector","$b802e705b04335a7$var$queueBtn","async","$b802e705b04335a7$var$getFilmDetails","filmId","default","get","$4v6BD","apiKey","data","error","$1GAPJ","Notify","failure","console","addEventListener","watchArr1","JSON","parse","localStorage","getItem","gallery","innerHTML","classList","add","element1","filmDetails","filmTile","makeSingleFilmTile","watchArr","remove","element","queueArr"],"version":3,"file":"library.c7c4dc0b.js.map"}